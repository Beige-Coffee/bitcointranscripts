---
title: OP_Vault - A New Way to HODL?
transcript_by: youtube_to_bitcoin_transcript_v_1.0.0
tags: ['op_vault']
categories: ['']
speakers: ['stephan livera', 'James Oâ€™Beirn']
media: https://www.youtube.com/watch?v=Nq6WxJ0PgJ4
date: 2023-01-30
---

 James welcome back to the show. Ace of funds great to be back. I think it's been almost four years, huh? Damn. Yeah. Well, in terms of on the show, yeah. I mean, it's just you in person, you know, a couple of times some of the conferences and things. But I know you've got this awesome proposal out. And it looks pretty interesting to me. So and I'm sure SLP listeners will be very interested to hear more about it. So do you want to just set the background for us? Like where did this whole idea come from? Yeah, sure. So I think everybody knows that custody in Bitcoin is really hard and pretty much everybody's major fear on Bitcoin is waking up one day and you know, checking your wallet and seeing that somebody's gotten away with your coins. And so a lot of thought has been put into, you know, things that can mitigate the risk of losing your coins. And especially kind of having experienced an industrial custody context at a few different places. There's been an idea circulating for a while of this notion of a vault. And the idea of a vault is basically that you can walk up the coins in such a way that if you want to move them in general, you have to wait for this delay period. And during the delay period. You can kind of contest the spend aside from spending the coins into a pre-specified recovery path. And so I think the first time that vaults were really discussed was in a paper, I want to say in 2014 or 2015, it's paper called Bitcoin Covenants written by Moser. Y'all and Eamon Gunseer. And it's kind of an interesting paper because they formalized sort of the notion of Bitcoin Covenants which had been kind of mentioned by Greg Maxwell in a Bitcoin talk post back in 2013. In actually a very derogatory context. But these guys formalized it into a paper sort of and it's a weird paper because they They spend the first half talking about vaults and then the second half talking about how they can repurpose this covenant stuff to make Bitcoin and G. But it's worth a read if you're interested in vaults. Anyway, they discussed in the abstract this idea of how you could put a constraint on not only just unlocking a coin and spending it to some arbitrary destination, but you could put constraints on how the coins actually spend. And then you could use that to reify this idea of a vault. So, let's just take one step just to make sure everyone's following along, right? Because I think I'm following you and I think you obviously understand this, but just make sure listen is following along. Let me put it this way, you correct me if I'm getting this wrong. But the basic idea is when you have a, like probably, probably people who used to this idea of sending Bitcoin from one address to another, but really what's going on kind of under the hood is that address is it can contain a script. And you can think of it like we're locking coins into a certain script and we need certain conditions to unlock that coin and spend it somewhere else. And so what we're talking about here is like using script in a special way to create this special vault construction that gives us maybe a little bit more confidence about if something would happen that I could then stop the theft of my coins. Let's say to buy pulling them into a different recovery address. Let's say, is that high level what we're talking about? Yeah, that's exactly right. Just to restate, you know, when you're sending your coins somewhere, quote unquote, what you're really doing is you're spending a coin, which involves presenting a proof or an input to basically a little computer program that have locked the coins. And that input gets fed into that computer program, the Bitcoin script engine executes that program with the inputs, the inputs are now called witnesses. And then if that execution succeeds, then you can basically lock the value up with another computer program. And in Bitcoin today, right now, if you successfully unlock that first computer program, you can pretty much spend the coins in whatever way that you want. But this idea of covenants is that, okay, maybe you're presenting a proof, while you're definitely presenting a proof to unlock the coins in the first place, but you might then put them under a certain kind of computer program, a certain kind of locking script that looks at something beyond just a signature to unlock. Maybe it looks at the structure of the transaction that you're spending it into. And so this is a very general, a very powerful idea. And for a long time, I mean, maybe we can talk about this later. I wanted to think people were very worried about that idea, enabling something like government, you know, control of coins, but that actually turns out not to be any kind of a concern, really. But basically you can use this really powerful, you know, new ability to do something like Volts, which just exactly what you said, is this idea, if someone, let's say someone gets a hold of like the key that you used to do this unvolting process, right? They start to try to move the coins, but because you've locked the coins into a vault with a delay period, they have to wait, say a day or week or maybe even a month to move the coins. And then in the meantime, you have some very trivial, you know, system or program that's monitoring the chain and says, oh, wow, I just saw an attempted spend on your vault. And you expect that. And if you didn't expect that, you can jump in and immediately sweep those funds into a recovery path. And so the idea is that, I mean, this, if you get the tooling right, like this makes Bitcoin theft exceptionally difficult, because what it allows you to do, and let me know if I'm jumping the gun here, but it allows you to generate this, the keys to this recovery path in a completely different way, and perhaps a very sort of impractical or operationally difficult way, then you're sort of everyday keys, right? So you could do a completely offline key generation, like you can generate the keys in such a way that they would be almost like useless for use in a multi-state quorum, which is what people do now to secure their coins. They have, you know, maybe a multi-state quorum with a few different kinds of keys or devices. And that's great. But if you're talking about like super, super, super cold storage, you know, you just kind of can't use that in a multi-state quorum. It's fine. So with vault, your recovery path could be that like ultra-cold path. And so I think, you know, between that and sort of the ability to intervene if someone does capture your, you know, unvault keys, which definitely could be multi-state or could be really any kind of Bitcoin key arrangement, you know, that it's a very powerful combination. Gotcha. Yeah. And so can you just explain for listeners, who are the typical users here? Like are we thinking of like big institutions? Are we thinking of, let's say a family office with a lot of coins? Or are we talking even like DIY, toddler average stack of a guy is going to use this kind of setup? Or is it even like to the level that you might have like a mobile phone, Bitcoin wallet with a vault kind of setup? Could you just explain who do you see as the primary users here? Very, yeah. So when I started thinking about this stuff, I was really kind of a moron personally with my own coins. I had, you know, a single-sig with a passphrase basically to docs myself. I mean, yeah, it's pretty low tech, right? But I was, like I said, I was sort of in an industrial custody context, or at least was exposed to one. And I was really, really trying to think about how to de-risk those operations. And, you know, vaults were known at the time, but the problem was with the existing vaulting strategies were that like, they're just operationally extremely difficult. And we can talk about that in a little bit. But what I really love about this proposal is that it kind of hits the full spectrum. I think, you know, everybody from kind of the biggest custody operations to, you know, individual odds have the, you know, it's very easy to use this new construct upfall. Like the user interface, if you will, is like very, very simple, but flexible enough to sort of accommodate any use case. And that's in large part due to, you know, the power of covenants. Nice to see. Yeah. Okay. So, your paper also mentioned, so talking about covenants as well, your paper mentions to kind, so it'd be cool if you could explain that. So, we have the precomputed and general. So could you just explain what what others? Yeah, sure. So, again, the idea of a covenant is that you are encumbering coins, not just on, you know, the initial unlocking script. But you're actually encumbering them on the basis of the transaction that the coins are going into. And so what that means is you have two options here. You can either do something where you basically precompute like a tree, all possible paths of, you know, how these coins can flow through this vault thing over the lifetime of, you know, some number of transactions. Or you could encode a more general program almost in the script that is not bounded to a particular number of transactions. And the second is significantly more powerful, obviously, because you could, for example, have a vault where, you know, you can, you know, partially on vault as many times as you want, Revault and so forth. But the difficulty there is that up until now, all of the techniques for doing this, this general covenant thing were sort of complicated and scary. And well, maybe the techniques themselves were not complicated, but they resulted in these scripts that were really, really complicated. So an end user to use one of these general covenant techniques would have to write like a very, very long or relatively long and complicated Bitcoin script. I mean, it's like, if people out there are familiar with like the difference between a assembly language and, you know, say Python, you know, if you're writing Bitcoin scripts to do something like what a vault does, you're essentially writing like assembly language versus, you know, calling some Python function. But these, these precomputed faults are still very useful. And I think specifically in the case of like a proposal called check template verify that Jeremy Rubin and others have worked on. That's still a very useful construct for a variety of things. And the idea there again is you're sort of saying, okay, I'm going to lock up these coins into a predetermined flow of transactions. But I know that at some point that flow of transactions will terminate and I'll just kind of get regular coins out. But the problem with that is, is that, you know, you've got to pre anticipate all the different ways that you want to spend. And so if you're talking about, you know, vaults that that introduces certain limitations. Yeah, gotcha. And your paper also calls out this idea that as an example, there's this issue similarly with lightning of understanding what's the fee rate now when we start the vault. And then let's say in five years time when we unfold, the fee rates could be totally different. And I understand in lightning, they have this concept of an anchor output. And I know from the paper, you also mentioned a similar kind of idea of anchor. Sorry, what was the terminology? Federal anchors. Yes, femoral anchors. So could you tell us a little bit about how the goals, I guess, like what is a good vault proposal going to look like? Yeah, so I think there are certain features that a vault should have. So I guess maybe by way of comparison. Do you think it's worth talking through how sort of the most basic vault implementation with pre-sign transactions work? And kind of. Yeah, let's talk about that and then kind of look at what's the difference with up vault? Yeah, yeah, because I think it's hard in the abstract if I start describing features of vault, you know, they're kind of like abstract. And so I don't think they make sense until you kind of see the alternative. So right now, if you want to do one of these vaults with Bitcoin, what you would do is you would generate this like one time key that you intend on throwing away. And you would send your coins into some transactions that are controlled by this one time key. And then you would use that key to sign a few sort of preformulated transactions that essentially lock the spend paths into these transactions that you've generated. Does that make sense? Yeah, go, Joe. So it's kind of like very, it's a very critical setup step. And then you also want to make sure that key never gets compromised because you know, you're telling if that key gets compromised. Yeah, and you know, as a user, if you do this setup ceremony, like you better hope that the key was actually deleted because then someone has the ability to spend these funds that you think you've vaulted, but you know, you actually didn't. And in fact, key deletion like is notoriously sort of impossible to prove. And this is especially a concern in an industrial context where you know, you might have to prove to auditors that you're doing everything right. So for both individuals and companies, it's pretty tough. So the setups ceremonies can be fairly onerous for something like this. And then along the lines of what you were mentioning a few minutes ago about fees, you know, because you're pre generating these transactions, you're locking yourself into some set of fee rates, you're locking yourself into the set of destinations that the funds can be involved to and, you know, that might mean that you have to use some kind of intermediate hot, hot-ish wallet to actually route the funds after you've involved them. And so, you know, there's still value perhaps in doing this kind of a setup because again, it gives you that delay period where you can contest, you know, hacker trying to spend your coins. But there are all these operational considerations and, you know, it makes it, you have to think about a whole lot upfront, do everything right operationally. And then kind of hope that you've chosen the right, you know, say fee rates to pre-generate. So if we think about, and this is really how the development of this started out for me was sitting down, I didn't intend on writing a software proposal to be honest with you. I almost wanted to come up with a thought experiment about what the perfect vault would be. And so for one, I think for the perfect vault, you can have multiple deposits to the same vault with this pre-signed approach. You basically create the vault that you're going to create and then that amount is sort of fixed until you drop. It's like a one-time deposit rather than multiple deposits, let's say. Yeah, exactly. Whereas I thought, you know, you should be able to choose these vault parameters and then just kind of deposit so that, for example, if you want a DCA on an exchange, say, every day and you want to have that withdrawal go immediately into your vault. You should be able to do that without any kind of operational headache. So that's one. Another is this idea of having a dynamic vault target, sorry, dynamic, unvault target. And what that means is when you want to go to withdrawal from your vault, instead of having to lock in some fixed intermediate wallet that you're withdrawing to and hoping that that doesn't get compromised because if that does, then you've got to sweep to your recovery path, which is probably a big pain to actually go and access. If you could actually just pick where you wanted to withdrawal to and then start the unvault process with those parameters. So this dynamic unvault target allows you to do that. And the other thing that you want that's probably just nice to have, but this idea of doing partial unvault where you're not moving the entire balance of everything that's faulted at once. You're just kind of peeling off some amount to unvault at a time. Gotcha. Right. So you could have like a big saving amount. And okay, Bitcoin has gone up so much. I'm going to peel a small amount off and buy a house for the family that keep the rest in the vault. That kind of, exactly. Exactly. Exactly. And then the final thing that you want, which is kind of an implication of the dynamic targets, is this idea of batching? Batching is really, really important because if you're generating all these vault outputs, then you don't want to have to generate unvault outputs for every single vault that you create. Because otherwise, let's say that an attacker gets hold of your hot wallet keys or your unvault keys, then they might start to withdraw. Could be thousands and thousands of vaults, depending on your scale of custody. And so in a case like that, you want to be able to sweep to the recovery path as efficiently as you possibly can in batch. And so that's one of the big innovations of vault is that it's the only proposal to date that actually enables. So to be clear, in this case, this is more useful for, let's say, a professional large scale custodian who is perhaps managing thousands of vaults. And maybe not as useful for, let's say, the individual hard luck just doing one vault for himself, right? Is that an interesting question? That's an interesting question because if you want to allow people to, let's say, deposit to these vaults on a daily basis, the only way that you can actually have multiple deposits like that work is with separate UTXOs. And so at the end of the day, you've got to spend this UTXOs. And if you don't have batching, then that becomes a very inefficient process with a vault. So naively, yeah, it does look like this is only a big deal for big custodians. But it's really not. It's a big deal for any user of vault, I think. And so this idea of batching, I think, without it, it's very hard to make vaults a practical thing. Gotcha. And just out of curiosity, even today, there are limits on how many UTXOs you can have in one transaction, right? I don't know the exact number. Someone correct me, but it might be like 100 or maybe more, maybe a little bit more. So let's say this stack has been stacking, you know, once a day for years, he might have like 800 outputs or something, right? And so even that would have to be, let's say broken down into chunks that are actually doable. Absolutely. Yeah, absolutely. I mean, you're still sort of hitting this in problem. You know, if you've got, let's say you're doing your daily DCA. True. Yes, to be fair to you, that's a problem already today. So you know, you could be really screwing yourself over if you're not careful about how you manage your coins today. So we're not going to like ding you for that or anything. But yeah, that makes sense. So let's talk a little bit about the relation of this with some of the other ideas that people have been talking about. So as you mentioned, and I've got an episode with Jeremy Rubin talking about CTV probably a year or two ago now. And they're at the same time that the CTV drama happened. I think there were also other proposals, right? I think Rusty from Blockstream had another idea. I think it was OptiX hash. And then some other people were talking about a combination of, I think it was CheckSeek from Stack and Cat, which you could do something as well. So could you just talk a little bit about the relation with Vault, Op Vault, as opposed to some of the other ideas? Sure. Yeah. So I think a lot of people have realized that bringing covenants into Bitcoin somehow is a really, really, really good idea. Perhaps even essential if you think about the need for things like coin pools to actually scale it, you too. No one or two. Certainly, Volts, I think is increasingly seeming to me to be an essential thing for custody. But yeah, this problem of how to actually bring covenants into Bitcoin in the right way is very, very thorny because not only do you have the option of doing, say, pre-computed covenants, which are sort of simpler versus these general covenants, but then even within those two categories, you've got a whole number of different options for actually implementing this stuff. And so the design space there is wide open, and there are a lot of different proposals, each of which has certain limitations and certain advantages. Check template verify, for example, is very, very simple, and I've reviewed it in depth, and I think it's a safe change for Bitcoin. But it does have certain limitations, mostly in that you have to actually pre-compute this graph of transaction. So anyway, to step back, like solving the general covenants problem is kind of like a holy grail at this point, and it's really, really difficult. Volts, in particular, are just a use case of covenants. They're kind of like a subset of the covenant functionality. And so one of my ideas here was instead of trying to solve the general covenants problem, which a bunch of people have done, and it's kind of a quagmire at this point, I figured I just want to do as good a job as I can on Volts, and maybe that requires some covenant like behavior, which it turns out it does. I say so. Maybe it can be interpreted as you're trying to thread the needle here in terms of trying to solve this grand, grand problem of trying to do the whole covenant shebang, but trying to give people the specific thing that's needed for people to be able to vault and unvolt their coins. Is that fair summary, you would say? Yeah, yeah, absolutely. Exactly. And so I spent, I was excited when I finally understood check template verify and worked with Jeremy a bit, and actually developed a prototype of implementing Volts within CTV. And the advantage that you get there is that you don't have to do this really precarious, ephemeral key thing where you generate the one-time key and then throw it away. CTV just kind of enforces the covenant on chain, which is great, but you still have the problem of dealing with fees, because with CTV, because you're pre-computing the exact flow of transactions and then committing to it in a hash, kind of like merciful trees if people are familiar with that. You have to pre-specify the withdrawal paths, the recovery paths, well, I guess you have to specify the recovery paths in any case, but the fee rates. And so it's an improvement for sure over the pre-sign transaction implementation of Volts, but it's still left me kind of wanting in terms of functionality. I see. So basically, you see it like Volts offers a different functionality to what CTV was, but it's not the full covenant thing. Exactly. Yeah. Okay. Yeah. Gone? Oh, go ahead. I was just going to say that CTV is much more general than Volts, but Volts has some behavior in there that CTV can't do. So it's not like one is a subset of the other other professions. Yeah, yeah. Totally fair. And so could you tell us a little bit about just the life cycle of this process? And so like, let's say we had OpVault, what does it look like to start a vault, you know, exact, or even do, let's say a partial unvolting and then at the end, you're closing down the vault because you're passing it on in Harrison scenario or something like that. If you could just go to a life cycle there. Sure. Yeah. So when you're creating a vault, all that means is that you're unlocking some coins that you have control of or getting someone to send you some coins to what's called a script pub key. And the script pub key is basically the name for that puzzle that you have to solve whenever you spend a coin. And the contents of that script pub key contain an opcode, OpVault, say, that has three parameters. The first parameter locks you into a certain recovery path. So that determines, you know, what your super cold key is going to be. The second parameter is the spend delay, which is just a number. It works exactly in the way that check block time verifying check. I'm sorry, check sequence verify works in that you can specify a relative delay in terms of either time or blocks. And then the third parameter that you give it is the unvolting key. And so that's basically like what's the mechanism that I'm going to use to authorize the start of the unvolting process. So once you have that script, you can just, you know, send UTXOs to be encumbered by that script kind of as much as you want. And at any time, you can sweep those vaults into the recovery path with no delay whatsoever. But it seems kind of like a sort of like a watch, you sort of need some kind of watch tower like feature kind of like lightning this idea of a watch tower, but you're watching to see, oh, somebody spending my coin. Oh, quick, I need to use my recovery key to kind of, you know, but I know I'm safe as long as I have the watch tower that detects it within a certain time period, right, depending on how many blocks we set that time lock, right? And so then as I understand, then the idea is, you know, let's say I put some coins into my vault. I see, oh, look, someone's stealing from me. Okay, let me recover those coins into my recovery pathway. Because that other hack, the hacker guy is hazing covered by the time lock, but I am not. I can just pull it straight out to my. Exactly. Exactly. Yeah, yeah, that's exactly right. So yeah, when you, if you want to start the unvolting process, then you send some amount of the vault into the script, you know, that's, that's up, on vault with the exact same parameters, except instead of specifying the unvolting key, you're specifying the target hash, which basically locks you into what is, where is this withdrawal proposing to go? And just as you said, what you want when you're using vaults is some kind of a watch tower. And what's nice about the watch tower for vault is that it's exceptionally simple. And you can do it in a variety of ways under a different, you know, a variety of trust models. So for example, let's say that I don't want to run this watch tower myself, but maybe I'm comfortable with like the watch tower company knowing which outputs, you know, I have. You can tell them what the outputs are to watch and then they can alert you if those start to move and then you can make the judgment call whether they're interviewed or not. Or maybe I want to give them, you know, my recovery pathway and then they can just scan, you know, for any, any movements associated with that recovery pathway. And that can give them the recovery transactions and then they can broadcast. That's a, that's putting more trust in the watch tower. Or maybe I don't trust the watch tower at all. And I can give them some kind of probabilistic data structure that might tell me if my coins are moved or, you know, maybe like kind of like a bloom filter, they might give me some false positives for other the coins are moving. But the watch tower can sit there and then I can, you know, get an alert from them about maybe, maybe your coins are moving and then jump in and check myself. So the point being that there are a variety of ways to run these watch towers and they're very, very simple things. Yeah. And so one other question with the recovery pathway. So is it the case that let's say you are a big custodian and you are managing thousands of vault, the thousands of customers, when you have to do the recovery or to kind of, you see that there's a hack, does that mean you would need to now pull all, all of them at once? Or can you individually, you get what I'm asking? Yeah, absolutely. So it depends on whether the vaults share recovery path. And in practice, I think what you would do typically is you would say, okay, I have my ultra cold key. I'm going to take the expub of that key and then just generate different recovery paths as needed so that they're all locked by the same, you know, super cold key, but you're getting different recovery paths so that because exactly as you're saying what happens is when you sweep one vault with a given recovery key, because there's no additional authentication required, or authorization required to actually do that sweep, anybody might be able to come along and just kind of replay that sweep against vaults that share that recovery path. Now, one proposed change that I'm kind of noodling on after putting the initial release of this out there, getting some feedback from the other devs is one option is you could actually give some flexibility around how the recovery path works. So right now, I just say, okay, if the coins are headed into the recovery path, just that, you know, it's valid. Let's do it. Another option would be you could do that or you could decide to say, you know what? Actually, this recovery path is protected by another key that I have to sign with. And so you don't have that replayability problem. So that option would introduce a little bit of flexibility, but then, you know, it makes it a little bit more complicated to decide for a vault user what they should do. I see. Yeah. Okay. So with the unvault process, like the normal unvault process, that still allows you to specify a different address, let's say, like a new address to receive the vaulted coins out into. But it's just the recovery path has like specified pathways. Does it? Yeah, exactly. And the idea there is that, you know, when you set up the vault, you want to say this is the only way to recover these coins because that's a special ability to be able to sweep all of the value into one path. So yeah, the recovery path is is pretty specified and completely static, but the recovery path could be like, say, a taproot script where you have a whole, you know, you could do something where you say, okay, my recovery path is that within six months, I can spend it, or I can spend it immediately with my super, super cold keys, or after six months, you know, I can spend it with this like backup set of keys. So you can do anything that's accurate allows you to do with the recovery path, which is, you know, a huge range of flexibility. I say, right. So because of that tapper ID with like the public case band or the script path spend, you can set up a different, you can set up different scenarios and, you know, people are talking about this idea of having, let's say, like a degrading set up, right, like that author of certain amount of time that only two out of whatever five keys or whatever keys could spend. One other question I had as well is there's this idea in your paper. It's saying, being able to sweep to the recovery key at any point with no witness data, does this just push the problem back one step? Like could their criminal or the hacker just try to find out the recovery key or like hack that part? Is that just pushing the problem back one step? I would push back a little bit because, so they have to figure out two things. Well, I mean, if they compromise your sort of backup recovery key, then yeah, totally. I mean, that, you know, they can generate the data necessary to sweep all the vaults and everything. I think the idea here is that we all know, at least in theory, how to generate a really, really, really cold key. It's just that oftentimes we don't do that because it's very inconvenient and basically inaccessible. But yeah, I mean, if someone finds you're just in the same way that if someone right now kind of discovers your keys, your host, the idea here is that this just allows you to kind of like segment that process from sort of the everyday operation of spending coins. And it gives you some granularity and insecurity, if that makes sense. But please push me on that if it doesn't make sense. Yeah, yeah. No, I think I'm getting you there. So I think the way I'm seeing it then is it's sort of like you could have this separate set up with much harder to access keys than what you're normally using. But I guess today, nowadays, let's say if you're like a serious hot load with lots of coins or maybe you're a company, you might have today a hot wallet with a small portion of your coins and I called wallet with like some big, big multi seagout, just keys distributed and all this kind of complicated stuff. So I guess that's kind of what people are doing today. But in fairness, not everybody can use multi seag today. Now, of course, there's my sponsor, Anjain Kaprul and there's, you know, there's Spectre and Sparrow and all this stuff out there, but I think in practice. And I think that's where your proposal is getting at is like this idea that it could give the benefits of multi seag for people who currently do not have the either technical means or the comfort to use multi seag today. And that's where I'm seeing it at least. And then I mean, you know, in an industrial context, like multi seag can be very troublesome, getting together, you know, enough of a signing quorum, you know, that means managing, you know, a diversity of teams and devices. And it's just, it's really a lot of kind of like amortized overhead for the operation of coins. Whereas with this, you know, you can have, you can have sort of a streamlined setup for spending. And then if something goes wrong with that setup, you can just fall back to like a really, really secure system, but, but kind of on a day to day basis, you can have something that's, it's really secure, you know, whether that's kind of a lighter multi seag or some kind of, you know, from your secret sharing or NPC thing. But it's just easier to use than like like having a single multi seag configuration that's both extremely robust, but also kind of permits spending. So it makes sense to me that you want to segment kind of the security model a little bit for those two. Okay. Yeah. Can you also explain the reliance on package relay, because that's something also mentioned in your paper. So just pack, if you could just give like the super high level of what package relay is and then explain the reliance there. Yeah, sure. So package relay is the pretty simple idea that if you have a number of unconfirmed transactions that depend on one another, you should be able to relay those to the peer to peer network and they should be able to travel together and have a kind of aggregate fee rate that allows nodes to say, okay, well, this parent transaction has a really crappy fee rate, but the child transaction pays a ton. So it together, if I mine them together, I actually get a very attractive fee rate. And this is important because like pretty much any second layer contract application for Bitcoin involves sort of pre specifying a fee rate at least, you know, so in lightning, for example, what they do is, you know, the commitment transaction has some fee rate itself, but then to support dynamic fee adjustment during settlement time, there's an output that anybody can spend that they call the anchor output. And this allows you to do child pays for parent, but things kind of get into trouble. If you don't have package relay, because maybe the parent is so low fee that it can't even broadcast to land in the mump pool to get bumped by the child. So anyway, package relay is very, very important and pretty much everybody wants it. Gloria and others are working on a proposal there and it's looking like it's going to come along pretty shortly. But the long long and the sort of it is that package relay just allows us to do dynamic fee adjustment in a way that, you know, let's us kind of not not worry about potentially getting typhooned by other than in pool fees. Yeah. Yeah. And for an, listen, is interested. I have an episode with Gloria talking about package relay, of course. And one other question I've got is there's a bit more chatter about mini script right now. Some curious does mini script play into this at all? Does it help? Does it not help? You know, I, I'd say it's sort of unrelated. Like if up vault lined up me, he didn't, there would be a mini script. I don't know what they call them function for for up vault and not involved. But what's nice about hop vault is that like the outcomes are very, very simple. And this, the resulting scripts are very, very simple. So to typically mini script is a big benefit. If you've got, you know, some kind of relatively complicated, I mean, using multi-sig and Bitcoin script is is cumbersome to say at least. And so something like mini script there, if you're, you know, if you're composing things of time locks and multi-sigs and making very complicated scripts for mini scripts is a huge win. I think it's still be great, you know, for up vault, but it's the mini script and the Bitcoin script for up vault look very, very similar. Gotcha. Gotcha. It's like, it helps, but it's not a huge win. Okay. And then actually one other question I had was around one of the, I guess critiques, let's say, of the general covenant schemes because I think in your paper, you also mentioned that that it wouldn't be suitable because they would result in very bloated script pub keys. So could you just explain that a bit? Yeah. So again, you know, general covenants give you this very low level machinery to essentially write, you know, computer programs in script that determines the spin path of the coins. And because you're articulating something like a vault in Bitcoin script to get, to get the equivalent functionality of what something like vault provides you, you have to write like really long, really complicated script. And a lot of people have proposed these general covenant mechanisms, but I haven't seen a lot of actual end uses of them because I think the resulting scripts are just so gnarly that they make the proposals kind of un-attractive, at least for me personally. And then the other problem is, you know, let's say that you have one of these general covenant mechanisms and someone devises, you know, they go to the time and write this giant script that does everything that you want. And everybody's, you know, wants to use it. Well, now you've got everybody kind of doing the same thing, but they're bloating the chain space with the same exact script, you know, that's really, that's really big. So I think kind of the bold case for general covenant stuff is that it allows end user experimentation. And you don't have to, you know, get a software done if you want some new big piece of script functionality. But I think in actuality, if you had something like that and some exciting use comes along that's relatively complicated, you'd really have to software condense at some point because the waste would just be so much in terms of the witness sizes. Gotcha. Okay. And so one other question, is there anything specifically enabled by Taproot here or not? Not really. This could have as easily been done with bear script or pay the witness script hash. And indeed, the way that it's written right now is it's kind of compatible with anything. It's not Taproot only. So I mean, Taproot certainly helps, but it's not, I wouldn't say the two are directly related. Yeah, sure. I saw from the mailing list, there was some interesting discussion. I think Greg Sanders had this suggestion and you were commenting that this could allow all the the outputs to be paid to Taproot. So that could be maybe some small privacy benefit there. Yeah, I think so. I'm trying to think through that one because so originally when I wrote this, you could do the outvolt output any way you wanted. So Taproot or segwit version zero. But then when you went to spend it into the up, unvolt output to sort of trigger the start of the withdrawal process, that had to be a bear script because, you know, when the scripting interpreter is looking at that up, unvolt output, it's saying, okay, is this compatible with the outvolt, it's spending and mostly due to my own in experience. I was just like, okay, well, it needs to be bear so that we can read it directly. But when I put the design out there and the code, Greg Sanders came back and said, hey, if you just stick this extra little bit of information in the witness when you're spending the outvolt, you can actually support doing the up, unvolt in any kind of address type. And, or any kind of script hash address type. So that was a big improvement. I actually implemented that and pushed the code last night. I think that's a big upgrade. Okay, fantastic. And any other feedback you've received on the proposal so far? No, it's all been pretty positive. I think people were just kind of hungry to see like a more narrow proposal, a more specific application of some of this covenant stuff. I'm happy that I release the paper and an implementation at the same time because I think a lot of people have been proposing ideas on the mailing list. And, you know, it's one thing to write an email, but it's another thing to actually code it up with some tasks and see it working. Feedback has been good. I mean, I think the next step is probably to write a bit. And I'm pretty mellow in terms of activation. I mean, look, I think, I'm sorry, drop my headphones there. I think it'd be a huge benefit to have this in Bitcoin. I would use it personally. I know, you know, a lot of industrial users would use it personally. I think it makes custody a lot safer for anybody. But I'm not really, you know, my expectations about where it's going are very tempered because you just can't have expectations about that kind of thing. Especially after watching the happen with Jeremy and C.T. Right. Right. I think it's probably a case where maybe the community hadn't been, let's say, brought on board with it and maybe that was, I don't know, I'm speculating. Right. It seems that's what it seems like to me. But that's it. I mean, if it helps Hodler's hodl in this case, you know, I think that there could be a case there, like people could see, oh, you know what, this actually could be useful. This could be handy for people. So let's see what happens there. Hey. Yeah, right. Right. I know, yeah, with Jeremy and C.T.V, you know, it's, it took me a long time to actually appreciate what C.T. V does because when you first see it, I just think Jeremy's clock speed is like three acts of what everybody else is. And you know, like we all have our strengths and weaknesses. I think Jeremy's brilliant. But when I first came across C.T. I was like, you know, what the hell, what do I want this for? And it took me a while to actually internalize what some of the uses there are. I think, I'll vault is a little bit easier to approach because the, again, the use case is just so clear cut. And, you know, keeping coin safe is kind of everybody's concern in Bitcoin. And so it makes it a little bit easier to evaluate kind of whether or not it faults the right thing ultimately. Yeah. Yeah. I think it, it certainly seems more crafted with this particular use case in mind, whereas I think if a proposal comes and it's like extremely general and very conceptual, you kind of have to be really deep into the technicals or really, really into it to go spend the time learning about it and then pushing for it because, yeah, for this kind of thing, I think people, it just seems like the bar has risen a lot for what would require, whereas if you went back years and years ago, people, they used to do self-forks pretty regularly. But, well, I guess, yeah, let me just say if there's anything else I'm just thinking. Actually, on that note, I mean, I just like to comment a little bit. You said something interesting just now, which is, you know, we used to do self-forks more regularly and, you know, obviously like Bitcoin was more nascent and smaller back in the day, but maybe people forget like we activated, you know, checks he was verified, checks, locks, how to verify, BIP68, all within the same year, and that was pretty close to segment. And so I think, you know, more than anybody, trust me, I get that there are certain things about Bitcoin that we don't want to change. I get that like, this is the base layer and you want to be very risk-averse, but Bitcoin definitely isn't finished. But there are certain aspects of Bitcoin that I think really do need to change, to facilitate the use that they're all kind of hoping for. And so I think I hope we can be less skiddish about evaluating proposals, kind of for as principles, you know, determining like whether they're safe and then, you know, looking at proceeding because, you know, as things stand, I do worry about Bitcoin stagnating a little bit. And I think it's fair to point out as well that like you have to also consider what's the harm, right? Like so let's say we do upvolt, the other people being harmed potentially, other people they choose to use upvolt, correct, right? It's not that upvolt has some kind of massive negative externality on all the other hodlers and users of Bitcoin, right? That's right. I mean, you have to be diligent about, so the one exception to that would be if you could construct a pathological use of upvolt that say makes validation very difficult. And so, you know, you have to have a period for a few months where people are just sitting there trying to construct these pathological uses that can break, you know, I sat there doing that with CTV for a while and I was like, well, this thing kind of, I can't figure out how to break it and it's been months and a lot of people who aren't favorable to it can't figure out how to break it. So, you know, it looks safe to me. And everything needs to go through that process because conceptually you're exactly right, you know, if you introduce a future, maybe only the people using that feature are harmed. But from an implementation standpoint, it could be that there's sort of contagion in terms of validation. I see. Yeah. So yeah, at the end of the day, I think that was probably one other critique that people were, I mean, just rewinding back to what happened with CTV. I think people were complaining that there was not any, let's say, commercial use cases of CTV or at least that was one of the critical lines. I'm not sure if that maybe you disagree with that. Maybe there were. But it seems with the idea of the vault, it seems a bit more very clear and very obvious. There are companies built around this whole idea of securing people's coins or helping them secure their coins. It seems like there is a bit more of a commercial use here. And so there for, we might see more interest in this idea, at least that's my speculation. Yeah, I think it's, it's, it's a more tangible thing that more people can immediately go, oh, yeah, I might have used for that. Or that will benefit me somehow. I think with CTV, the irony is I think there were, there are a ton of use cases that might be really valuable like the DLC efficiency improvements. This idea of being able to initiate and receive lightning while you're, while you're completely offline or while you're signing keys are offline. And then, you know, to an extent, the, the vault there could be helpful. But I think it was just tough when you think about trying to understand and appreciate CTV because you were kind of blasted with all these like possible use cases. But you know, I think nobody, you know, a given use case wasn't maybe fleshed out or championed enough for it to kind of go through. And so it's all understandable. I mean, I think kind of from everybody's perspective in the CTV case, it's understandable. Like, you know, I have all kinds of concerns about the Bitcoin development process. And in, in, in no case, you know, is it like, oh, somebody's doing a bad job here. It's just kind of the nature of trying to do something as decentralized and as kind of structuralistness as, as, as this whole process is. Right. And I think that was perhaps, I don't know. I'm not trying to put words in Jeremy's mouth, but it seemed that he was perhaps unclear about what bar he had to meet to sort of get this over the line, maybe in his mind. And other people were saying, no, we just don't want to change it, don't change anything. Like, just leave it as it is. And so maybe that's always going to be a debate and an argument going when anyone wants to do any literally anything with Bitcoin. But perhaps it's about, if you, if you get enough people on your side in terms of, let's say, if Bitcoin, the community, whatever you want to call it, is this anarchic mob of users, help us miners and companies. And you sort of have to win enough of them over with this idea and say, look, there's so much value here. We're going to, you know, make vault easier and that's going to make custody easier. And that may make people more comfortable to use Bitcoin, which obviously is going to grow our network and grow the users and bring more people in. Maybe that's the argument. Maybe that's the case you've got to make. Yeah. Yeah. Yeah. That could be. That's not because, you know, for the last major soft forks, there've been really a small set of people extremely capable people who, you know, have proposed them and have written the code. And now some of those people have kind of stepped back a little bit because they rely on speculating that maybe they realize that kind of having independence on, you know, the same group of people making changes is not a healthy state for Bitcoin to be in. And so, you know, as a result, this process of making consensus changes is in a little bit of a nomin's land where there's kind of a vacuum in terms of like, okay, who do we, who's kind of the authoritative voice here? And of course there shouldn't be an authoritative voice. And so, yeah, you do like you're saying, you do have to go out and get kind of this critical massive community support. And that's a tough game because, you know, where do you cut the line on that? So, so yeah, it's really, it's fascinating and very difficult. Yeah. Well, I guess, you know, I guess that's the question. No, the final closing thought where to, where to, from here with upvolt. For me, I think, you know, I've got a lot of irons in the fire with different projects I'm working on. And so, I'm going to probably write up a bit and then propose that. And then I think I'll get the implementation to a point where I feel pretty comfortable with it. I'm sure I'll need, you know, a lot of help from some of the gray beards in terms of making sure the script interpreter changes are really kind of ironclad. But once I get the code into a shape I'm happy with and I get a bit written, I'll just let it sit there, I guess. And if people like it, you know, we can move forward. That means, but otherwise I'm just going to go back to my other projects and let it hang out as an idea. Fantastic. Well, listen, I'll put the links in the show notes. James's website is JamesO.be slash volts.pdf is where you can go to read it. And there's a mailing list post and a Twitter thread. I'll put all the links in the show notes. James, thank you for joining me today. Hey man, it's always a pleasure.
