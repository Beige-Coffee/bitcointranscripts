---
title: Steve Lee and Lightning updates / Stratum V2 - Episode 23
transcript_by: Whisper AI & PyAnnote
categories: ['podcast']
tag: ['Lightning Dev Kit', 'Zeroconf Channels', 'Rapid Gossip Sync', 'How does LDK pick priorities?', 'LDK Lite', 'Will LSPs be needed forever?', 'Validated Lightning Signer', "A Lightning Node's Problem with Hats", 'VLS code base', 'FROST and ROAST', 'Recovering a FROST wallet', 'Taproot adoption', 'Future of the Lightning Network', 'Stratum V2', 'OFAC and mining', 'Other benefits over Stratum']
---

Chaincode Labs podcast: Steve Lee and Lightning updates / Stratum V2 - Episode 23

SPEAKER_02: Thank you very much.

SPEAKER_01: Merch.

SPEAKER_02: What are we up to?

SPEAKER_01: We are back.

SPEAKER_02: Who are we recording today?

SPEAKER_01: We have Steve Lee in the office this week.

SPEAKER_02: He is the head at Spiral and a lot of open source development. He talks to a bunch of people. He's also the PM for the LDK team. So we're going to talk lightning, the challenges that are open with lightning and maybe a little bit about other projects in the space. And I want to touch a little on temperate.

SPEAKER_01: Bye! I wanted to tell. Yeah, totally. We talked again, not just about Lightning, but sort of weighted into Stratum V2 and that new spec that's coming out and the project around there. So great way to get back into the swing of things. We've been taking a little bit of a break here.

SPEAKER_02: Bye!

SPEAKER_01: Welcome Steve. Let's just sort of dive right into it. So maybe we can start a little bit with where is LDK these days and what you're thinking about and then we can maybe move into more specific topics from there.

SPEAKER_00: Thanks for having me on. Yeah. Great to see you guys this week. Let's start with LDK. So the viral team and other contributors have been working on it now for about two and a half years. Last year in the spring of 2021, we got our first real adopter of it. The LDK had matured enough to get ready for someone to adopt and Blue Wallet to date had been non-custodial for Onchain, but custodial for Lightning. And they wanted to, they want to move to non-custodial for Lightning. They successfully integrated it on their iPhone app and their Android app by August of last year. And it's actually in the app store, but it's still not the default experience. So I thought I'd share some lessons learned. Like why isn't it the default experience? Sure. The good news is LDK worked exactly as the LDK contributors had planned. And it was great to have the first adopter be able to get it working. But the biggest problem for Blue Wallet is that the channel management is still manual, like an end user has to like set up their channels, manage the liquidity, et cetera, while it's like Breeze and Moon and Phoenix have demonstrated that if you do that automatically, it's a much better user experience. So I think one lesson learned for everyone in the Lightning space is that we need more LSPs. We need LSPs that are available for any wallet to integrate with. And we needed an LSP spec. And so the good news there is that there are a lot of people working towards that, both the spec and commercial LSP services. So that's one lesson. There's a few other features that Blue Wallet was hoping for out of LDK and we've delivered with them. One is zero confirmation per Lightning channels. And not only did LDK implement that, but it's actually part of the Lightning spec now and LND and CLN support that as well. So that's an improvement in the past year.

SPEAKER_01: Yeah. Sure. you That's really just on first use.

SPEAKER_00: Yeah. I mean, how it impacts the user experience is that if you're like on-boarding a brand new user, you install the wallet, you can't receive money right away. So to get that, you need to inbound liquidity and a channel opened to you. If you have to wait for six confirmations, wait an hour or so, not a great first time experience with, with an app or a product. So Zeroconf makes it instant and the trust model there is such that it's reasonable to take the risks of, I mean, Zeroconf in general has security risks on lightning and specifically with the relationship between a wallet and LSP. I think most people consider that a reasonable risk to take for the UX benefit.

SPEAKER_01: Yeah.

SPEAKER_02: So the idea is that usually users first want to receive, not send, and by having the Toribord channel, the LSP basically just trusts them for whatever amount they're going to receive, but since the channel isn't confirmed yet, it's not really lost and if so, it's just pushed to the other side at the point when it gets confirmed.

SPEAKER_00: That's right. And so that was one change they wanted to see that's been made. So I think, you know, all wallets are going to be able to take advantage of that moving forward. Another was that the way that they initially implemented or integrated LDK into their wallet, they did the pathfinding, like finding a route to do a payment on the server still. They weren't doing it on the phone. They did it that way because of performance reasons, because one of the most resource heavy activities in Lightning and Lightning protocol is doing pathfinding. You have to download the entire Lightning graph onto the phone. And so a feature that the LDK project worked on in the past year was just announced within the past week or so called Rapid Gossip Sync. And let me actually first start by saying, what's the problem with doing it on a server? The problem with doing it on a server is whoever controls that server has all the payment data. So, you know, a company that has thousands or millions of users, they have millions of users, entire payment history, and which has obvious privacy implications.

SPEAKER_01: Mm-hmm.

SPEAKER_02: And not only that, they also control the route. So they could, for example, take a route that earns some more fees and things like that.

SPEAKER_00: Yeah, that's a good point if you're trusting for that as well So now let me describe rapid gossip sync which also actually has that drawback to what mark just mentioned with rapid gossip sync It's intended to enable client side like in a phone pathfinding in a performant way right now the entire lightning Network graph is on the order of 60 megabytes So the problem with mobile development is you can't guarantee that your app can run in the background So ideally you could just download this data over time Continuously in the background, but that's not possible So if a user hasn't opened your app for days or weeks or even months when they go to open it It might take dozens of seconds or even I've used some wallets to take minutes to sync before you can use it I'd call that a showstopper You know user experience for mainstream adoption with rapid gossip sync what we've done is Filter out a lot of the gossip protocol information. That's not necessary for pathfinding and also Compress it and we've been able to squeeze that 60 megabytes down to like 2 megabytes and measured it at like 0.4 seconds to download and process on the client to be able to do routing So we believe it will be performant enough that even if it's been like a month since you've opened the app The user won't even notice that's happening and by the time they want to send a payment. It just worked the one Caveat is what mark mentioned earlier Trusting the server to not withhold graph data So a trade-off here is that whatever server serving up the rapid gossip sync if it wanted to like let's say it We're being run by the LSP It could selectively choose certain data withhold to optimize the routes going through nodes that it controls to maximize its fee revenue So that's a trade-off with it that exists as well. Even if you're doing the cloud so I think what's important for Bitcoin and the deployment of this is have good reasons to trust the server that you downloading it from and Ideally, it's independent from any like money-making lightning infrastructure provider

SPEAKER_01: necessary for pathfinding.

SPEAKER_02: When you do rapid gossip sync and you push basically a skeleton of the graph to the mobile phone, is there a way to backfill pad the route between a receiver and the mobile phone that I just learned more about neighbors of my route or something like that? There was a very early blog post by Rusty years ago where he talked about beacons for when the lightning network gets immensely large. There's something like that happen more is that basically in there already because the skeleton prunes for the most important channels and routes and nodes.

SPEAKER_00: Well, just to be clear. So what Rapid Gossip Sync does today, it is the entire network graph. It just eliminates a bunch of data from the gossip protocol that's not necessary for that. So it's not a subset of the graph. Again, there could be a malicious server that prunes things out, but the way the code's written and the way it's intended to be run, it's the full graph. But it does remove signatures and a bunch of unnecessary information so that the client can't prove to itself that it's the complete graph. That's the trust. Now in the future, so an open question is, if the Lightning network grows a thousand-fold over the day, is it still going to be practical to download it to the phone? There's reasons to believe yes, but still to be determined. But a lot of the information that's been eliminated to make it faster is literally redundant information. I see, I see. And then another part about that too is it would be possible to use Rapid Gossip Sync but also download all the gossip data, do both so that you can sort of check on the server that's serving that up to sort of police it. That's going to be a question of, or so to do a payment, you're not dependent on that but to sort of double-check its work, you could do that. That's just a question of is it worth the bandwidth

SPEAKER_01: Oh, cool.

SPEAKER_02: Uh huh, I see, okay.

SPEAKER_01: Yeah.

SPEAKER_02: That's it, that's it. Right. What? Yeah, especially on a mobile.

SPEAKER_00: We'll have to see how that plays out. I think it's really good to have this infrastructure in place though to be used. But that was another request by Blue Wallet. I believe they're experimenting with it right now. I know some other wallet developers too that are experimenting with it. So I look forward to seeing actual performance data and actually trying out prototypes and real wallets using this to just confirm that it really is performant. I think it will be based on our data so far,

SPEAKER_01: So the, just as you think about your roadmap, a lot of this feature set is influenced by people who aren't able to use it in the way that you hoped they would use it. Is that sort of the idea? And how is that being informed on BlueWallet and whatever else?

SPEAKER_00: I mean Yeah. So I mean, I'd say more generally, like how does the LDK project pick what it, you know, it's priorities, what it works on? Two huge inputs. One you already mentioned, you know, users, you know, and the users of LDK are other developers building apps and wallets. So we certainly listened to all of our existing users. We're also listening though to prospective users that have maybe looked at LDK and give them feedback as to why they're not proceeding with it or what they want to see before they do. I'll speak to that in more detail in a second. We also, of course, uh, it's compatible with lightning specification and protocol specification. So LDK contributors work with LND and CLN and Eclair and other lightning protocol developers on both making sure that we're standard and, but also working on protocol improvements. Like lightning has a long ways to go to improve security and privacy and scaling and UX. So we're working with other implementations as well. That's the two big areas that influence what we work on. Let me go a little deeper on what we've been hearing from mobile wallets that want to use LDK. Blue wallet, they did a great job of taking the LDK API, integrating it. So have other wallets as well, but there's another category. What I've observed, developers who have experience with lightning tend to understand the LDK API and use it and they understand why they want to use it and they make good use of it. I think other developers who might have Bitcoin experience, but haven't done lightning yet might find LDK API to be a bit intimidating, either perception or reality or a mix of both. But I think the perception is definitely there and it is a powerful API and arguably a bit overwhelming if you're just learning lightning. So a sub project with an LDK that was undertaken a few months ago, tentatively named LDK Lite, although we're still trying to figure out how to refer to it is really just intended to create a much simpler API for mobile wallet developers to get started. But one that could be used in production and one that we think, you know, for those that aren't super familiar with LDK, it is not one instance of a lightning node implementation. It's a toolkit to allow you to build a lightning node. And so it allows you to pick any recipe you want, which is super powerful, but there happens to be one recipe for mobile that I think will satisfy many mobile wallets. So we're going ahead and building that recipe to simplify the API down to pretty much like send and receive. It's a little bit more complicated than send and receive, but sort of our aspiration is to make it as simple as send and receive. And so that's being worked on right now and hopefully we'll be available within, you know, even weeks for early testing. And I think that is going to be really well received by a lot of mobile wallet developers that I've spoken with to get them going much faster. Then for some of them, they'll be able to launch a product with it. Great. Others will find that it just doesn't give them enough flexibility that they want. And then they can use the more powerful LDK API.

SPEAKER_02: But it's a good stepping stone to get there and to familiarize yourself with the problems. What's the interface? Is it like broken down to the level of create invoice, receive payment, pay invoice and create invoice, or is it...

SPEAKER_00: It's pretty much that simple. I mean, it also includes like creation of channels, but the hope is to utilize LSP spec that's being built out so that even if a wallet developer wouldn't even have to like manually create their own channels, they could just use the LSP spec. And so that even the wallet developer in that case wouldn't be doing all of the channel management work. Also probably like, you know, a transaction history or payment history call to get that.

SPEAKER_02: Right. So you've been mentioning LSP's Lightning Service Providers a lot. Would you say it's accurate that as a mobile wallet, you basically are always contingent on a service provider because most nodes will not want to have a channel with you as a mobile client, you're offline most of the time. And is that still the case? Or is there something in the future that will change that?

SPEAKER_00: Thanks for watching! Thanks for watching! No, I think that's the case, you know, for both the offline concern that you mentioned and also just, you know, mainstream users, I don't think are going to want to manage their own channels. That feels much more like a hobbyist or someone running a small lightning routing business kind of interface.

SPEAKER_01: But that couldn't be simplified as in there's, you know, there's, there's optimization around the edges for something like that. As in your, your home node could be providing those services for you. And then you're using, I mean, the ride, the lightning Zeus sort of family of remote control kind of way.

SPEAKER_00: You're home. Yeah. Yeah, so that's all true. So I don't think there's not one solution that any of us could say that's going to be for everyone, right? I'm bullish on the umbrells in my nodes and running a mall server at home. I'm actually bullish on that. But, you know, today it's very much a hobbyist environment, but I think that can become mainstream, but let's define mainstream. I think like a home run success over the next five to eight years would be a hundred million people in the world having something like that. Like basically, you know, a Bitcoin bank in their home. I think the bill of materials for that gets down to like five or $10 super cheap and it gets integrated into other home device products that people buy. So it's just very simple experience, but a home run success. There's like a hundred million people having that, which would be amazing. That's not billions. That's not the world. There'd be many people probably in emerging markets and stuff that aren't going to have that at home. So we also need to think about running a note on your phone as well. And basically giving mobile phone users the most trust minimized solution as we can. I'd say that's the goal of spiral. And I think that the K project, so today it's true. There's several servers or services on servers that are needed to build out a wallet and a lightning wallet, maybe like five or six different types of services that are needed on servers. There's a roadmap and a path to keep eliminating those or reducing those and shifting the intelligence to the phone. We just talked about one rapid gossip sync is a way to shift not everything to the phone, but it does reduce trust because you know, it's a privacy win. LSPs and providing liquidity. I think it's going to be hard except for the home node case to do. So what's important is having a spec, having lots of alternatives. And ultimately I imagine a wallet developer will connect to multiple LSPs so that the wallet doesn't become dependent on one LSP and some wallets might have an interface that even exposes that to the end user so the end user can choose their LSPs as well. So reducing switching costs and making that very frictionless. I think it's important for Bitcoin because we don't want to end up in a state when one company is the LSP.

SPEAKER_01: You know. Maybe moving on the next topic would be, and I'll reference Paul Etoys three hats problem blog post, which he talks about the sys admin, just having too many responsibilities and too much power. And so he does point to the validated lightning signer as a possible solution there. And that's something you've been pretty involved with. So can tell us more about what's going on there.

SPEAKER_00: Yeah. Yeah. What's going on there? Yeah. I'll talk about the project and just some of the, I just keep learning more and more about this project, its potential applicability. So I'm happy to share what I've been learning. There's a project called validating lightning signer, VLS spiral has been funding it. We're on year three now. So a little over two years, we've been funding this project to developers, Ken Sedgwick and dev random who have both been in the Bitcoin space for a long time. They applied for a grant a little over two years ago. And the premise of their project made a lot of sense to me. And the premise of VLS is that we want to improve security and because lightning introduces more security threats than on chain Bitcoin, because you need to have your keys connected on a computer that's connected to the internet. How can we mitigate those risks? And certainly one way is to separate the keys and signing from the rest of the lightning node and everything else you might be running on that server to to reduce the attack surface. So I think some folks have maybe thought that it's as simple as just putting the keys on a separate computer and, and signing, but that would be blind signing, which I believe is a showstopper. It's just simply not serious. No.

SPEAKER_02: There is no benefit there. If it blindly signs everything, then it might as well be part of the Simon software.

SPEAKER_00: Yeah, because the node that's sending the transactions for design can just send old states and the unintended recipient, et cetera. So there needs to be a smart designer. And part of that intelligence is that it needs to run a mini lightning state machine and it needs to understand the lightning protocol. And that's what VLS is. So it is another implementation of lightning, but it doesn't implement the peer to peer aspects or pathfinding routing. Most of the components of lightning, it does not implement it. What it does implement is signing transactions and keeping track of the, the state of all the channels.

SPEAKER_01: and

SPEAKER_02: Thanks for watching! Basically, it solves a standard problem that we have in wallet service businesses where you want to disintermediate the signing power from other processes in the business. And you would especially like to lock up the keys in something where they can't be extracted. But you need a way to lock down a very small minimal interface so that it actually only signs the things it's supposed to. So you need something that is able to check the policies or some sort of core set of rules that determines whether or not it should sign.

SPEAKER_00: That's exactly right. That project is implemented on the order of a couple dozen policies. So like you just said, so there's the notion of setting policies, policy enforcement, and whoever deploys the VLS project can configure that. You also alluded to putting on a machine where it's difficult to extract the keys, so it's intended to run on HSMs as well. It can run on regular computers. And VLS is quite very compact. So it's intended to run in all kinds of environments, anywhere from like enterprise server equipment, enterprise HSMs, but it can also run on mobile phones, and it can also run on hardware wallets and embedded systems or around like 500k of base.

SPEAKER_01: So. Mm-hmm.

SPEAKER_02: Mm-hmm.

SPEAKER_01: Right.

SPEAKER_02: So just to repeat and rephrase, HSMs are hardware security modules, which are hardware devices that have this very minimal interface where you, for example, just can ask, sign this, but you can't ask, give me the key. And the key lives inside of the hardware security module and nobody has access, not even the sysadmin. And then basically VLS is an operating system to run an HSM.

SPEAKER_00: Yep. So let's talk about a few applications. So the one we've been speaking about is like enterprise. And so what this can enable is you can have an access control that's different for your primary infrastructure and then a different set for these keys. And so your IT admin is going to have access to most of the system, but they don't need to have access to the HSM running BLS and the keys. That could be the CEO or CFO or some designated group that's different. That's clearly one application. Another is Blockstream has a product called Greenlight and one configuration with Greenlight is to enable mobile wallets and for a non-custodial, I should say non-custodial mobile wallets. To be non-custodial, the key has to be on the phone. And like we just talked about, there needs to be secure signing, not blind signing for it to be actually secure and actually non-custodial. So Blockstream is using BLS as part of their Greenlight solution. And I'm super happy that they're super supportive of the project as well. Any project that Spiral funds, we obviously think it's a good idea for the space, but we also love to see others funding it as well so that there's a good diversity of funding. I think in the case of, you mentioned Paul and his company wrote a blog post recently about BLS, I think they're interested in a couple of different use cases. One is in the enterprise separating the keys, like we talked about, but they'd also are envisioning a world in which their end users have a very small, cheap hardware device, which they're building, which can run BLS on it so that their end users, like the stack work users are able to have a non-custodial wallet.

SPEAKER_02: Essentially what this does is so for on-chain transactions we have hardware signers or hardware wallets and what VLS allows you to do is to Essentially have a hardware signer for lightning which was notoriously difficult before because lightning has so much more state and different things It needs to do. It's not just a small transaction that you sign. Yep. That's right And Paul had a prototype in this blog post. Have you heard more about that since it's been a few weeks months?

SPEAKER_00: Yep, that's right. Oh, no update in the past few weeks, but yeah, I'm excited. I really like their company and get tons of great ideas. So I hope they're successful. I guess maybe the last thing I'd say about the VLS project, then I continue to learn more and more about its applicability. And here's an example. So to date, Lightning has always only supported single signature wallets, meaning like if Mark and I have a channel together, we can only use a single signature wallet for each end of our channel. But there's work being done right now to make it so that multi-sig can be enabled. First step, of course, is getting Taproot implemented and activated in the network. That was done late last year. And now the Lightning implementations are starting to integrate. There's a number of different ways to improve Lightning because of Taproot. And LND and CLN and LDK and Eclair are all making changes now to support Taproot, including Musig2, which will enable N of N wallets. And then there's a protocol called Frost, which will enable threshold signatures on Taproot and in this case on Lightning. So for example, you could have a two of three wallet. That's not only your two of three wallet for on-chain funds, but also Lightning channels. So that's super exciting. We can go deeper on that too. I think it's really exciting. But let me just link it back to VLS. If you fast forward to this future where you have a two of three wallet on Lightning, there's three keys, three separate computers with those keys. And if you want to receive or send money, you need to have two signers. Only one of those can be your full Lightning node. So how does the other signer securely sign without trusting the other key? Well, it needs to be running VLS or it needs to be running something like VLS, but there's really no other project that does that today. So another really cool application and frankly, just necessary application of VLS is any kind of multi-sig Lightning channel.

SPEAKER_01: I was just quickly looking up roast versus frost and trying to.

SPEAKER_00: They're very similar. Roast is necessary if you want a lot of signer keys and signers. So there's some applications where perhaps like Fediment, where you might want a hundred keys or a hundred signers, like a hundred out of 150 or something. And Frost would have performance, not really performance. I mean, it's kind of performance issues, but denial of service attacks would be problematic because with Frost, if just one of the signers goes offline, you have to start over, it's an interactive signing process with Roast, it addresses that, so for like a two of three wallet, Frost should be perfectly suitable.

SPEAKER_01: Thanks for watching! And there's other applications for frost as well.

SPEAKER_00: Yeah, I'm really excited about Frost. So, I mean, not only does it give you, you know, beautiful multisig threshold multisig and on your on-chain footprint is only one key and one signature. It also allows much better recovery options for a wallet. So let's imagine you have a two of three wallet and Block is building out of a non-Casodia wallet and their product conception, they're going to have a key on a server, a key on a hardware device and control the customer and a key on the customer's phone, something that most everyone does is lose your phone. So if you have a two, three wallet, you lose your phone and one of the keys is on the phone, what do you do? How do you recover the traditional way is you rotate your keys and you basically create a new wallet. You sweep all the funds into the new wallet, you know, but that's a bit of a hassle, take time and it costs money too.

SPEAKER_02: It also reduces your privacy, it's horrible, you combine all your funds.

SPEAKER_00: Reduces you combine all your funds and then you add in lightning so if you have a wallet that's both on chain and lightning you're having to close all your channels reopening them and Today that might cost a few dollars, but in the future that costs dozens of dollars or or more So I mean you might spend $50 on your hardware wallet And then like you lose your phone and you're spending another $70 just to rotate the keys getting back to frost a really beautiful thing About frost is that you can rotate the keys with no on chain footprint no on chain transaction

SPEAKER_02: You can reconstitute the threshold quorum.

SPEAKER_00: Right. Using two of three as an example and losing your phone, you can take the other two keys, these secret shares and frost and produce a new set three. Now the security consideration is you have to securely delete the two original keys, toxic waste, toxic waste. If you don't, then you know, the attacker or if you lose your phone, I mean, you might've lost your phone or it might've been stolen, right? But if someone were able to get that key and if the two original, one of the other two original keys are obtained, you'd be in trouble. So you need to be confident that the original keys are deleted. So I think there's going to be certain products where that's a reasonable assumption and other situations where it's not. If you've got three individuals involved where each have a key and there's not a lot of trust between them or just minimal trust, then that's probably not a good idea to trust that your other two co-signers deleted their old shares. But if you have a product in which the software is written by one wallet author and you're the only individual that seems like a reasonable trade off to me. And it gives you the benefit of much faster, simpler, cheaper replacement of keys.

SPEAKER_01: Intoxically.

SPEAKER_02: Now it sounds like that would be a really nice wallet, but it would only make sense if it only launched with Taproot outputs. You wouldn't want to go back to older output, less capable output types. Is there a holdup with that?

SPEAKER_00: Yeah, that's a great question and for people familiar with when SegWit was activated, it took years for SegWit adoption to occur. People actually receiving with a SegWit and then specifically native SegWit receiving deposits and spending. We're seeing a similar dynamic with Taproot. Taproot was activated last fall. If you look on chain, it's very little usage. Some pundits on Twitter like are mocking it and making fun of it. I remain quite bullish. I think there's very clear user wins in the future, but it takes a long time and what actually one sort of chicken and egg problem right now is if you have a wallet that wants to take advantage of the features we just mentioned, it needs all of the money received to be Taproot enabled. So when you're depositing funds into this wallet, you can't use a legacy address. If you do, you can't use Frost and you can't use these features. If a wallet were to launch today and only receive Taproot, the big problem is that there's many exchanges that don't yet support sending to a Taproot address. The address format is called Beck32m and with...

SPEAKER_02: native segment specificity, yeah.

SPEAKER_01: I think that's probably contested at this point, but it's certainly possible to pronounce that way.

SPEAKER_00: Some people, possibly on this podcast, say BESH32M.

SPEAKER_02: You know, Peter has an IPA description of how it's done.

SPEAKER_00: Description of how it's pronounced. But however it's pronounced. I mean, those familiar with SegWit and Beck32, original intention of Beck32 was that it would be forward compatible with Taproot or any other future SegWit version. Unfortunately, a very remote isolated bug was found. It was important to fix, though, and that was fixed, and that's what Beck32M is. Now, what that means for wallets and exchanges is a few lines of code for them to be able to recognize a Beck32M address and send to it. I think the most important message here for wallets and services in the space, if you hear clamoring for supporting Taproot, step one is very simple. It's just a few lines of code change and you only need to support sending to Beck32M to really unlock the rest of the ecosystem to do innovation. Later, you can support receiving this with the best features,

SPEAKER_02: Yeah, I mean, when you adopt receiving to pay to taproot outputs yourselves is totally up to you. But if you support sending to best 32 M addresses, it would just help everybody else to be able to move forward and have these cool things. And we know already that almost all lightning projects are working on getting pay to taproot channels. If you want to fund lightning channels, you'll have to be able to send to pay to taproot. If you want to send to users of these new wallets, if you want to enable your people to withdraw, you'll have to be able to send to taproot. And even the critics agree that taproot will be useful down the road. But it's like this two line code change. So if you do it now or do it then when you actually are forced to. So someone willing to take the hit, you're going to be able to do it.

SPEAKER_01: So someone willing to take the hit and fees and just create some kind of service that just takes all the dresses and turn it into...

SPEAKER_00: No, I know of folks that have been exploring that and there's a couple of ways to like a forwarding service almost and there's a couple of approaches. One would be this sort of like semi-custodial or temporarily custodial service, which I think is what you were just describing. There's a variation of it that's purely non-custodial as well, puts a little bit more onus on the end user in their wallet. Your wallet would receive the legacy funds, the legacy address, those funds would be like in a holding pattern and then the end user would have to like hit a button to approve to sweep them into taproot addresses or maybe it happens automatically for them, but then they'd become sort of used. All of the wallet's features would become usable once the funds are in that. I think a

SPEAKER_02: I think another signal that people that are interested in moving Taproot forward can provide is if you just move more of your funds into Taproot addresses already, you're sending a signal that it is being used, and that people should get ready to be able to send.

SPEAKER_00: also rumor has it people are working on a website which will have all the information needed to upgrade sending it to back there that's what

SPEAKER_01: That's what this podcast is all about, spreading rumors. Yeah, you must be well connected to hear such rumors already. You've been working on lightning now for two plus years. And I think the big criticism of lightning is there are certainly lots of things to polish up, but there are also some problems that we just don't really have any ideas of how to solve. And so now that you've been steeped in this world for the last couple of years, how do you feel about the way things are progressing, what's actually needed, what kinds of expertise and skills that we need to add to the ecosystem, et cetera? Yeah.

SPEAKER_02: connected to hear such a reverse already.

SPEAKER_00: Yeah, I remain very bullish and optimistic about Lightning. Those that might be concerned, you just need to have patience. There's a lot of known problems. Like if you look at the user experience, you create a list of all the known problems. But what heartens me is that for nearly all of those problems, there's a credible known solution, and many of them are actively being worked on. The reason it takes so long though, is that first you have to change the Lightning specification and you have to define that, so that takes a period of time. Then you need to update the Lightning implementations, that takes a period of time. Then you need to update all the wallets that use those Lightning implementations. So most important changes are a multi-year effort, not too dissimilar from on-chain Bitcoin, maybe a little bit faster, but it is a multi-year effort. So I'm very bullish if you look at all the problems around user experience, security, and privacy, I think there's pretty credible solutions that are going to happen for all of that. Scaling is the one that in my mind remains unsolved. And when I say scaling, I think Lightning's gonna deliver two to three orders of magnitude more scaling over on-chain Bitcoin, like we'll achieve that. But to extend that to billions of people around the world, and maybe like machine to machine interactions, and a million payments per second type of scale, I don't see the technology roadmap to achieve that today. That doesn't mean it can't occur, but I still remain optimistic even with that being a problem, because number one, there could be technological breakthroughs that allow the sharing of UTXOs with really good properties, or maybe we entertain the block size debate again in the future, or even if neither of those pan out, there is many complimentary layer two technologies, such as Fediment, and even just full-blown custodial payment systems that can all complement each other.

SPEAKER_02: I think originally this problem was stated as lightning scales payments, but does not scale users because users still need channels. And I think we can restate it a little bit in lightning does not scale channels and channels, if we can make them be usable by many different users, we can still scale users, even though each channel needs a user.

SPEAKER_00: even Yeah, I agree with that. And so the scaling thing, I think that's a luxury problem that we hope to have in five years in the sense that let's fix all the other known things, and then if the only problem we're left with at that point is scaling, then I think other options will develop.

SPEAKER_02: It also feels like a classical problem, like the internet. Back then we had dial-up and today we're like, oh, my internet's a little slow today, but I'm downloading a 4K movie and upstreaming data through a server and stuff like that. It's just something that we can continue to fail at fully solving for a long time and fail at it better and better.

SPEAKER_00: I think Jonathan also asked about how can people get involved or where help is needed. Like Spiral itself grew from four full-time engineers to seven that are working on LDK. I know Blockstream has been hiring a lot of developers on CLN. So seeing an increase in a ramp up of protocol developers and implementations, super important. There's also many dozens of wallets that are in development that are lightning enabled Bitcoin wallets. So because they're in development, it's probably not broadly known that a lot of these are happening. But I think over the next few years, we're going to see more and more of those launch and it'll be exciting to see many different recipes out there to see what's usable, what's not, what gets traction, what doesn't. Maybe we could give a few minutes to Stratum V2. Yeah. For folks that are not familiar with what Stratum is, we're switching a new topic on Bitcoin, mining. So in the mining space, there's a protocol between mining pools and miners that's called Stratum. It's been around for about a decade. You know, it's the protocol predominantly used in the space. It certainly has gotten the job done. There've been a lot of mining and billions of dollars earned the past 10 years. But as you can guess with something that was sort of hacked together 10 years ago, people have observed ways to improve it. So for those following along, maybe like four years ago or so, you might've heard Matt Corallo defining something called BetterHash and Jan and Pavel from Brains working on Stratum V2. The three of them got together about three years ago to merge their ideas into one proposed protocol. And that's what's referred to as Stratum V2. About a couple of years ago, Spiral funded a developer Fi3 to start implementing this because what's existed the past few years is that Brains as a company, they support Stratum V2 in their pool, in Slushpool, and they have Stratum V2 firmware that can run on Bitmain miners. So that's existed and there's some mining done today with that configuration, but there's not been an independent implementation or like a reference implementation of Stratum V2 for the space. That's what Spiral started funding a couple of years ago. So I'll give a quick update on where that specific project's at. One, there's several funders of the project now. In addition to Spiral, Galaxy is funding a developer for the project and Foundry is also funding a developer for the project. So it's great to have, you know, significant mining companies that are seeing the merits of Stratum V2 and funding it. The project itself is healthy, has several developers, lots of good momentum. And in fact, this fall, potentially within even weeks, there'll be several different pilot projects that will be done by some of the companies that I just mentioned and testing out some of the configurations because there's actually several different configurations for Stratum V2 because Stratum V2 can support existing equipment that's running Stratum V1 firmware. You don't have to upgrade the firmware, but to do that, you need to run a Stratum V2 proxy that you meaning that the miner would run that Stratum V2 proxy, which just simply translates the messages between that firmware and the pool.

SPEAKER_01: Yeah. Thanks for watching!

SPEAKER_02: Thanks for watching!

SPEAKER_01: And a lot of miners are already running proxies, so it's not that crazy yet.

SPEAKER_00: It will be an additional step for miners. So there's a couple reasons they would want to run this. One is if they have Stratum V1 firmware equipment and they either can't or don't want to upgrade to Stratum V2 firmware, that's a reason they need to run the proxy. Another reason to run a proxy, or really just a server at their farm, is if they want to do their own transaction selection. And so that's, the full one and what Bitcoiners at large will really care about is that up until now only the pools can do transaction selection. And so Stratum V2 enables miners to do transaction selection, or even another third party, which is something I just recently learned. So another third party could run a future version of Bitcoin D and then the pool nor the miner would actually be doing the transaction selection. So there's a lot of configuration options and flexibility, which I think is important not only for the sort of maybe obvious reasons for decentralization. There's orders of magnitude more miners than there are pools. But with some of the recently highlighted and emphasized censorship concerns, one reason I'm realizing that pools might want to adopt Stratum V2 is that perhaps they don't want to be selecting transactions. It would actually reduce the pressure they face to lead to more rapid adoption of Stratum V2 by pools That's just...

SPEAKER_01: Right. Yeah, let's let's just sort of spell that out because I think that's a really important point and should be emphasized so if there is a transaction that's on O fact or an address that's on an O fact list and That is sent through a US pool that starts to get very dicey for the pool And so we you know, we well people are still debating the exact legal implications and all maybe But if the pool is not in charge of those that transaction selection it makes it very clear

SPEAKER_02: People are still debating the exact legal implications and all that. Like and subscribe if you're enjoying! It makes it easier, but there are still so pools generally are created to revenue sharing and they're still paying people for mining a block that includes it. So there are several different facets and shades to this. Definitely. It'll get easier to explain if transaction selection happens at a different layer than the pool.

SPEAKER_00: Yeah. All evidence I've seen is that OFAC transactions have not been censored by pools or miners. There is talk. As far as.

SPEAKER_01: there was talk as far as a marathon was very explicit that they were going to do that.

SPEAKER_00: Explicit that they were going to do that and now it's reversed. There's also open source tools that have been developed that have been monitoring this for at least a year and a half. And based on that tool and that data set, there's been no censorship of OFAC transactions. So I think that's good news. And I'm not aware of the OFAC organization requesting that or asking that. But nevertheless, for the future health of Bitcoin at that layer, to have more options and more configurations and Stratum V2 definitely delivers that. I guess to me what's exciting is three years ago I struggled to see exactly what the adoption path would be because I thought pools might resist. I might welcome this.

SPEAKER_02: Mm-hmm. based on that server.

SPEAKER_01: Yeah. I would say the other benefit we're talking, we haven't mentioned as the encryption piece, which maybe you want to go into, because that's.

SPEAKER_00: Yeah. So Stratum V2 enables this transaction selection and being moved around, but it can still be done by the pools orthogonal to that. Other benefits are just simply one is just way better security. Something that has been demonstrated by Matt Corallo is that you can relatively easily hijack hash rate. Yeah. BGP attacks and yeah. Cause the Stratum protocol is used today. There's no authentication, no encryption. So Stratum V2 just adds basic encryption and authentication. So that's another benefit. And again, miners can get that, whether they're using Stratum V1 firmware or Stratum V2 firmware, it's very flexible and configurable in different ways. Another change of Stratum V2 is it's just a more efficient protocol. Stratum V1 uses JSON. It's super verbose. Stratum V2 is binary. So it's much more compact. Also with I mentioned that the SV2 proxy that is software that a miner can run that proxy connects to each ASIC machine in the farm using what's called a standard channel and then use the group channel to speak to the pool. So it's able to condense all of the channels that are basically all the traffic from all the machines that a farm into one channel that's much more efficient. I'd like to see more benchmarking data, but my hope is that there's much more efficiency gains. What it can enable in the future is mining operations that are in more remote regions that have worse internet connections that today would take a material hit to profitability and revenue because of latency concerns. And if we can, you know, so if it is, I don't know what the numbers are, but let's say it's 10 times more efficient, all of a sudden what might've been a material hit to the profits of a mining operation are become negligible and we'll see more decentralization through that mechanism as well.

SPEAKER_02: Yeah, BTP attacks and yeah. SPGS education, yeah.

SPEAKER_01: channel.

SPEAKER_02: Mm-hmm. That sounds great. Super!

SPEAKER_00: Thank you for coming in. Thank you so much.

SPEAKER_02: What do you think? Well, we're entirely prepared to much. He brought all the top picks already in his mind.

SPEAKER_01: I know, that's all right. He is thinking about lightning very deeply and I like the idea of a technical PM thinking about the user experience more enlightening.

SPEAKER_02: I think it's also nice to get someone that has an overview because they talk to so many people. Right. And that way sort of compounds many different questions and challenges that different teams are working on. And just him saying that all of these problems already have people working on them sounds really fun.

SPEAKER_00: and

SPEAKER_01: I think the optimism bled through, especially at the end there, which is heartening because a lot of times this is sort of a doomsday podcast, especially when it comes to lightening all the things that are broken.

SPEAKER_02: Sure, and also with the current discourse on the interwebs, I think it's nice to have a long-term perspective on things like interwebs and interwebs and interwebs and interwebs

SPEAKER_01: Sure. What's the current discourse in the interwebs? I try to stay off as much as possible. This thing is broke.

SPEAKER_02: lightning is broken it's a failure it's around for seven years and not every human on earth uses it

SPEAKER_01: Yeah, you gotta stay off the bcash forms. I guess we hope to do some more recordings soon Hopefully not every few months, but hopefully we'll get something out

SPEAKER_02: Yeah, we'll have a few more people coming from New York soon, so let's record them

